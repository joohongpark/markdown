# 1. 운영체제

## 운영체제란?

### 컴퓨터

컴퓨터는 정보를 처리하는 기계를 의미한다. 여기서 **정보** 란 컴퓨터 공학에서 말하는 정보를 의미하며 이 정보의 정의는 클로드 섀넌이라는 사람이 말하는 수학적인 식으로 정의되는 정의를 의미한다.

자세히 설명하면 끝도 없으므로 간단하게 설명하자면 어떠한 것이 가질수 있는 혹은 발생할 수 있는 확률 P(x)에 대한 정보량 N(x) (혹은 I(x))으로 나타낸다. 이를 식으로 나타내면 `𝐼(𝑥)=−log𝑃(𝑥)` 가 된다.

예를 들어 동전을 던질 때 특정한 값을 가질 수 있는 확률 P(x)에 대해 x = 앞이면 P(앞) = 1/2이다. -log(1/2)은 1이 된다. 따라서 정보량 I(1)은 1이 된다. 여기서 컴퓨터에서 사용하는 비트가 동전에 대응된다. 자세하게 설명하자면 길고 "정보" 에 대해 자세한 정의가 살고싶으면 다음 링크 [https://ratsgo.github.io/statistics/2017/09/22/information/](https://ratsgo.github.io/statistics/2017/09/22/information/) 혹은 구글에 "정보이론" 등을 검색해서 참조하자.

- "컴퓨터" 개념의 창시자 : 앨런튜링, 폰노이만
  - 앨런 튜링이 구상한 "튜링 머신"이 컴퓨터의 원형이다.
    - 튜링 머신 : 테이프에 기록된 명령을 순차적으로 실행해서 특정한 동작들을 수행한다.
    - 튜링 머신은 현대적인 컴퓨터 구조와 유사함 (이를 폰 노이만이 cpu와 ram 등으로 만듬.)
  - 여기서 "프로그램" 이란 것에 대해 정의를 할 수 있다. 테이프에 기록된 명령어들의 집합이 프로그램이다.

### CPU

ALU (산술 연산 장치)를 이용해 레지스터 내의 값들을 연산해 출력하는 것이 CPU의 역할이다. CPU가 수행할 명령은 모두 메모리 내부에 들어있다.

CPU는 크게 4가지 모듈로 나눌 수 있다.

- ALU (산술 연산 장치) : AND/OR 등 논리 게이트들로 더하기 빼기 곱하기 나누기 등과 같은 산술 연산을 수행한다.
  - 음수는 2의 보수와 더하기를 이용해서 빼기를 구현한다.
  - ALU는 정수 연산만 지원하며 소수 연산을 하는 모듈은 FPU라고 한다. 소수는 IEEE 754 표준으로 2진수로 나타낸다.
  - 모든 CPU가 FPU를 가지진 않는다. 또 과거의 CPU는 FPU가 없었기 때문에 정수 연산만 지원했다.
- 컨트롤 유닛 : CPU의 동작을 통제한다.
- 레지스터 : 플립플롭/래치로 만들어지며 CPU에서 사용하는 임시 변수, 명령어 주소 등 임시로 값을 저장하는 역할을 한다.
- 버스 인터페이스 : CPU가 외부 모듈과 통신을 하는 데 사용한다.

ATmega 같은 8비트 CPU 임베디드 시스템은 프로그램을 메모리에 넣고 동작시키면 CPU가 프로그램을 명령어 단위로 하나하나 실행하며 사용자가 원하는 동작을 하게 한다. 하지만 정확히 의도한 동작을 하게 하려면 CPU의 입/출력 포트 등 구조를 자세히 알고 있어야 한다.

### 운영체제

운영체제의 사전적 정의는 컴퓨터 시스템을 운영하는 소프트웨어를 의미한다. 운영체제는 컴퓨터가 시작할때부터 종료될때까지 계속 구동되며 컴퓨터의 여러가지를 관리한다.

최근에 사용되는 여러 복잡한 컴퓨터 시스템은 프로그램, CPU가 복잡하며 해야 할 일도 많다. 예를 들어서 우리가 사용하는 컴퓨터에 들어가는 프로그램을 완전히 밑바닥부터 코딩한다 생각해 보자. 단순한 문장을 출력하기 위해 당장 화면 픽셀에 점을 어디 찍을지 고민해야 하며 "화면에 점을 출력하는 행동"은 하드웨어를 제어하는 행동이기 때문에 당연히 현재 하드웨어에 대한 지식이 있어야 한다.

또 동일한 상황에서 동시에 여러 가지 프로그램을 운용한다 생각해 보자. 하드웨어를 직접 제어하며 화면에 뭔가를 출력하며 또 음악까지 재생한다 생각해 보자. 이런 경우 이 프로그램을 실행했다 저 프로그램을 실행했다 해야 하는데 하나의 사용자 프로그램에서 이런 행동을 하기는 힘들 것이다.

운영체제의 목적과 정의는 여러 가지가 있겠지만 가장 중요한 기능은 사용자가 하드웨어에 대한 깊은 이해와 구현에 대한 신경을 덜 쓰고 하드웨어나 시스템 기능들을 다룰 수 있도록 해주는 것(주로 커널단에 시스템 콜을 보내 제어한다.)과 여러 가지 프로그램을 동시에 실행해도 적절히 실행되는 기능(이를 프로세스 관리라고 한다.), 이런 것들을 할 때 메모리 관리들을 잘 해 주는 것이 운영체제의 가장 강하고 중요한 기능이라고 본다.

### 커널

커널은 운영체제의 가장 핵심적인 부분을 의미한다. 리눅스 계열 (우분투/아치리눅스/데비안/안드로이드 기타등등등)은 공통적으로 리눅스 커널을 기반으로 운영체제가 동작되며 맥OS/iOS 등 애플계열에서 사용되는 운영체제들은 XNU(세부적으로 Mach/BSD로 나눠진다고 함.)라는 커널에서 구동된다. 윈도우 계열은 윈도우만의 커널을 이용해 구동된다.

## 컴퓨터에서 다중 처리 개념과 용어 정리

### 멀티 프로세싱

멀티 프로세싱은 여러 개의 프로세서가 협력적으로 일을 처리하는 것을 의미한다. 과거에는 컴퓨터에 CPU가 하나밖에 없었고 속도를 올리기 위해 CPU 클럭속도를 높히는 방향으로 갔지만 클럭속도를 높히는데 제한이 있어 CPU 개수를 늘리는 방향으로 발전하였다. 최근엔 거의 대부분의 환경에 모두 멀티 프로세싱 환경이다.

### 멀티 프로그래밍

프로그램이 실행될 때 메모리에 적재되 실행된다고 했다. 근데 한 메모리에 하나의 프로그램만 올라가 실행되면 비 효율적이므로 여러 개의 프로그램을 올려서 실행하는 것을 멀티 프로그래밍이라고 한다.

### 멀티 태스킹

운영체제에서 여러 개의 프로그램을 실행한다. (이게 운영체제를 사용하는 이유기도 하다.) OS는 프로그램들을 "태스크" 라는 단위로 나누어 여러 개의 프로그램을 로테이션 하며 실행해 동시에 실행되는 것처럼 보이게 한다. 이를 멀티 태스킹이라고 한다.

### 멀티 스레딩

하나의 프로그램 (프로세스)에서 여러 개의 기능을 동작시키고자 하는 것을 멀티 스레딩이라고 한다.