# 정규 표현식(정규식, Regular Expression)

컴퓨터 과학에서 정규 표현식은 문자열의 나열에서 특정한 패턴을 나타내거나 찾기 위해 사용하는 수식이며 주로 정규식이나 regex, regexp로 줄여 부른다.

정규식 문법은 특정 기관에서 주도해 표준화가 된 문법이 아니라 다수의 기관 등에서 독자적인 문법을 생성하여 사용하는 경우가 있기 때문에 환경에 따라 정규식 문법이 다를 수 있다. 하지만 주로 POSIX 표준을 기반으로 사용하며 차이가 나는 점은 문자열 등을 나타내는 메타 문자가 일부 다르거나 하는 차이점이 있다.

우리가 일상생활에서 전화번호를 나타낼 때 **02-xxx(x)-xxxx**나 **010-xxxx-xxxx**로 나타내는 이유를 생각해보자. 서울권 전화번호는 02로 시작하며 뒤에 숫자는 7자 혹은 8자가 올 수 있으며 구분자는 '-'로 나타내기 때문에 저렇게 표기하는 것이다. 휴대전화 번호도 동일하게 010으로 시작아며 뒤에 무조건 8자의 숫자만 올 수 있기 때문에 저렇게 일반화하여 표기하는 것이다.

 따라서 **02-xxx(x)-xxxx**나 **010-xxxx-xxxx**는 우리가 일상생활에서 사용하는 일종의 정규식이라 생각할 수 있으며 이것은 당신이 정규식을 이해하는 데 전혀 어렵지 않은 것을 의미한다.

> 010-\d\d\d\d-\d\d\d\d
>
> 02-\d\d\d-\d\d\d\d
>
> 02-\d\d\d\d-\d\d\d\d

위 식을 정규식 테스트 (편집기나 웹 사이트 등)에 넣고 돌리면 정상적으로 해당 문자열을 인식하는 것을 볼 수 있다. 하지만 메타 문자가 불필요하게 반복됨을 볼 수 있다. 이와 같을 시 수량 한정자인 {}를 이용하여 앞의 임의의 메타 문자나 특정 문자가 반복되서 나타나는 횟수를 표기할 수 있다. 예를 들어 A{3} 이라 표기하면 AAA 패턴을 의미하며 A{3, 5}라 표기한다면 AAA, AAAA, AAAAA를 의미하며 A{, 5} 혹은 A{5, } 로 표기한다면 각각 A가 5개까지 오는 문자열과 A가 5개 이상 오는 문자열을 의미한다.

정규식을 다시 변형하여보자.

>010-\d{4}-\d{4}
>
>02-\d{3,4}-\d{4}

다음과 같이 작성한다면 우리가 의도한대로 서울권, 휴대폰 번호를 POSIX 표준 정규식으로 작성한 것이 된다.

## 메타 문자

메타 문자의 의미는 해당 문자를 사용하는 환경에 대해 그 문자에 특수한 의미를 부여하여 다른 용도로 사용하는 문자를 나타낸다.

| 메타 문자 | 설명                                                         |
| --------- | :------------------------------------------------- |
| **^**     | 해당 라인 시작 문자 혹은 문자열을 나타낸다. 예를 들어 ^a라면 해당 라인에서 a로 시작하는 것을 의미한다. |
| **$**     | 해당 라인 끝 문자 혹은 문자열을 나타낸다. 예를 들어 a$라면 해당 라인이 a로 끝나는 것을 의미한다. |
| **.**         | 하나의 아무 문자를 나타낸다. 보통 개행문자는 제외하지만 개행문자도 추가하는 시스템도 있다. (. -> a, b, c, 1, ...) |
| **[]**        | 대괄호 내에 있는 특정 문자열에 일치하는 하나의 문자열을 의미한다. 예를 들어 [012]는 0, 1, 2 모두를 의미하며 범위를 지정할 수도 있다. [a-zA-Z]로 표기한다면 대소문자의 알파벳 하나를 의미한다. |
| **[^]**   | 위와 반대로 대괄호 내에 특정 문자열을 포함하지 않는 하나의 문자열을 의미한다. |
| ***** | 문자 혹은 문자열 혹은 그룹의 반복 횟수를 의미한다. 0번부터 제한 없는 반복을 의미한다. 예를 들어 ab*c라면 ac, abc, abbc, abbbbbc 등을 의미한다. |
| **{}** | 문자 혹은 문자열 혹은 그룹의 반복 횟수를 의미한다. 해당 메타문자는 최대 반복 횟수, 최소 반복 횟수, 최소~최대 반복 횟수를 정의 가능하다. |
| **()** | 해당 괄호로 둘러쌓여 있는 것은 하위 정규식을 의미한다. 해당 괄호를 이용하여 정규식을 그룹화 할 수 있다. 예를 들면 (ab){3}은 ababab를 의미한다. ([ab]{2}){3}도 ababab, bababa, bbbbbb, aaaaaa, abbaab 등을 의미한다. 괄호도 둘러쌓인 결과는 \n (\1, \2 등) 형태로 나타내는데 여기서는 앞의 괄호에서 찾아낸 결과물 자체를 의미하게 되어 ([ab]{2})\1\1과 같이 나타낼 경우 위에서 abbaab는 의미하지 못하게 된다. 왜냐하면 앞에서 찾아낸 패턴 ab는 \1이 되는데, ab와 ba는 일치하지 않기 때문이다. |
| **\\** | 메타 문자를 일반 문자로 인식하게 하기 위한 것이다. 예를 들어 [\\.\\*]는  ., * 를 의미한다. |
| **?** | (POSIX 확장) 앞의 문자 혹은 그룹이 존재하지 않거나 하나만 존재함을 의미한다. 예를 들어 apples?는 apple, apples를 의미한다. |
| **+** | (POSIX 확장) 문자 혹은 문자열 혹은 그룹의 반복 횟수를 의미한다. 하나 이상의 반복을 의미한다. 예를 들어 ab+c라면 abc, abbc, abbbbbc 등을 의미한다. |
| **\|** | (POSIX 확장) 문자열 혹은 그룹의 OR 연산을 의미하며 ab\|cd 일 경우 ab 혹은 cd를 의미한다. |
