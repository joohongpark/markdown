# bubble Sort (거품 정렬)

## 1. 버블 정렬이란?

- 서로 인접한 원소의 대소를 비교하여 한 방향으로 정렬하는 방식이다.
- 오름차 혹은 내림차에 따라 정렬하며 정렬 루프 1회 수행 시 가장 끝에는 최대값 혹은 최소값이 오게 되며, 다음 정렬 루프에서 검사할 원소의 개수가 하나 줄어든다.
- 정렬되는 동작을 시각화 하면 거품이 사라지는 것처럼 보여 거품 정렬이라고 부른다.
- 알고리즘이 단순하므로 코드 구현이 간단하지만 정렬 연산 시간이 오래 걸린다.

## 2. 버블 정의 단계별 순서 및 예제

- 오름차 순 정렬 예제

  ```
  [3, 2, 1, 4] 와 같은 배열이 있다.
  가장 첫번째 원소 3과 앞 원소 2를 비교한다.
  [(3), (2), 1, 4] 
  2보다 3이 더 크므로 원소의 위치를 다음과 같이 바꾼다.
  [3, 2, 1, 4] -> [2, 3, 1, 4]
  그 다음 원소 3과 앞 원소 2를 비교한다.
  [2, (3), (1), 4]
  1보다 3이 더 크므로 원소의 위치를 다음과 같이 바꾼다.
  [2, 3, 1, 4] -> [2, 1, 3, 4]
  그 다음 원소 3과 앞 원소 4를 비교한다.
  [2, 1, (3), (4)]
  3보다 4가 더 크므로 위치를 변경하지 않는다.
  해당 단계에서 가장 우편에 위치한 원소가 해당 배열 원소 중 가장 큰 값이므로 가장 우편에 위치한 원소를 제외하고 위 단계를 다시 실행한다.
  
  [2, 1, 3, 4]
  가장 첫번째 원소 3과 앞 원소 2를 비교한다.
  [(2), (1), 3, 4] 
  1보다 2가 더 크므로 원소의 위치를 다음과 같이 바꾼다.
  [2, 1, 3, 4] -> [1, 2, 3, 4]
  그 다음 원소 2와 3을 비교한다.
  [1, (2), (3), 4]
  2보다 3이 더 크므로 위치를 바꾸지 않는다.
  여기서, 가장 마지막 원소인 4는 정렬이 완료되었으므로 4와는 비교하지 않으며 바로 이전 원소인 3도 정렬이 완료되었으므로 3, 4를 제외하고 위 단계를 다시 실행한다.
  
  [1, 2, 3, 4]
  가장 첫번째 원소 1과 앞 원소 2를 비교한다.
  [(1), (2), 3, 4]
  1보다 2가 더 크므로 원소의 위치를 바꾸지 않는다.
  원소 2, 3, 4가 정렬이 완료되었으며 모든 원소의 정렬이 완료되었으므로 중단한다.
  ```

  

## 3. 알고리즘
1. $N$ 개의 원소를 가진 배열이 주어질 때 $i = 0$ 을 시작으로 $a_i$ 와 $a_{i+1}$ 의 대소 관계를 비교한다.
2. 대소 관계를 비교하여 정렬하고자 하는 오름차 혹은 내림차의 순서에 맞게 해당 원소를 swap 한다. 만일 오름차 순으로 정렬할 때라면 $a_i > a_{i+1}$  가 되면 두 원소를 swap 한다.
3. $i = i + 1$ 수행하며, $i = N-1$ 이 될 때까지 반복한다.
4. 이제 $a_N$ 은 오름차/내림차 순에 따라 최댓값/최솟값을 가지므로 $a_N$ 을 제외한 다른 원소를 정렬한다.

## 4. Loop 횟수 및 시간 복잡도

- N개의 원소가 존재 시 정렬 루프를 $ (N-1)+(N-2)+\cdots + 2+1=\frac{N(N-1)}{2} = \frac{1}{2}N^2 - \frac{1}{2}N$ 번 돌게 된다.
- 해당 알고리즘의 시간 복잡도는 Big-O 표기법에 따라 $O(n^2)$ 로 표기된다.
- 주어진 배열의 정렬 상태에 따라 Loop 횟수가 변하지 않는다. (Best case, Worst case, Average Perfomance가 동일하다.)

## 5. 코드 구현

- C 코드로 구현

  ```c
  //20200314 jhpark
  void bubble_sort(int arr[], int arr_size)
  {
      int tmp;
      for (int i = 0; i < arr_size; i++)
      {
          for (int j = 0; j < (arr_size - i - 1); j++)
          {
              if(arr[j] > arr[j+1])
              {
                  tmp = arr[j+1];
                  arr[j+1] = arr[j];
                  arr[j] = tmp;
              }
          }
      }
  }
  ```

## 6. 참조

- [위키백과 - 버블 정렬](https://en.wikipedia.org/wiki/Bubble_sort)